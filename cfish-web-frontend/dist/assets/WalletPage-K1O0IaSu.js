import{c as T,u as I,d as L,e as H,r as l,j as e,W as O,f as k,C as R}from"./index-C8wrHQVv.js";import{N as _}from"./NFTCard-BNEZSIRD.js";import{C as z,E as q,P as C}from"./PriceDisplay-DqMeG22H.js";import{M as V}from"./Modal-B5K59-TF.js";import{D as J}from"./dollar-sign-DXY9ZfTz.js";import{I as U}from"./image-B8SozRfX.js";import{S as Y}from"./send-BDycW8EI.js";import"./heart-DstOrYv-.js";/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Q=T("refresh-ccw",G);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Z=T("wallet",X),oe=()=>{const{t:s}=I(),{isConnected:p,publicKey:t,wallet:K,disconnect:$}=L(),{addNotification:n}=H(),[u,d]=l.useState(!0),[B,j]=l.useState(0),[M,y]=l.useState(0),[f,E]=l.useState([]),[b,w]=l.useState(!1),[F,x]=l.useState(!1),[c,N]=l.useState(""),[o,v]=l.useState(""),[m,S]=l.useState("sol");l.useEffect(()=>{p&&(async()=>{d(!0);try{const r=await fetch(`https://api.example.com/wallet/${t.toBase58()}/sol-balance`);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const h=await r.json();j(h.balance);const i=await fetch(`https://api.example.com/wallet/${t.toBase58()}/cfish-balance`);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const A=await i.json();y(A.balance);const g=await fetch(`https://api.example.com/wallet/${t.toBase58()}/nfts`);if(!g.ok)throw new Error(`HTTP error! status: ${g.status}`);const D=await g.json();E(D)}catch(r){console.error("Failed to fetch wallet data:",r),n({type:"error",title:s("error"),message:s("Failed to load wallet data")})}finally{d(!1)}})()},[p,n,s]);const P=()=>{t&&(navigator.clipboard.writeText(t.toBase58()),w(!0),setTimeout(()=>w(!1),2e3),n({type:"success",title:s("success"),message:s("Address copied to clipboard")}))},W=async()=>{if(!o||!c||parseFloat(c)<=0){n({type:"warning",title:s("Invalid Input"),message:s("Please enter valid recipient and amount")});return}d(!0);try{const a=m==="sol"?"send-sol":"send-cfish",r=await fetch(`https://api.example.com/wallet/${t.toBase58()}/${a}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({recipient:o,amount:parseFloat(c)})});if(!r.ok){const i=await r.json();throw new Error(i.message||`HTTP error! status: ${r.status}`)}const h=await r.json();j(h.solBalance),y(h.cfishBalance),n({type:"success",title:s("success"),message:`${s("Sent")} ${c} ${m.toUpperCase()} ${s("to")} ${o.slice(0,6)}...${o.slice(-4)}`}),x(!1),N(""),v("")}catch{n({type:"error",title:s("error"),message:s("Transaction failed. Please try again.")})}finally{d(!1)}};return p?e.jsxs("div",{className:"min-h-screen bg-black text-white",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground mb-6",children:s("wallet.myWallet")}),u?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx(k,{size:"lg"})}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-1 bg-card border border-border rounded-lg p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(Z,{className:"w-8 h-8 text-primary"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-foreground",children:s("wallet.walletAddress")}),e.jsxs("p",{className:"text-muted-foreground text-sm font-mono",children:[t==null?void 0:t.toBase58().slice(0,6),"...",t==null?void 0:t.toBase58().slice(-6)]})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:P,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-gray-800 rounded-lg hover:bg-gray-700 transition-colors text-sm",children:[b?e.jsx(R,{className:"w-4 h-4 text-green-400"}):e.jsx(z,{className:"w-4 h-4"}),e.jsx("span",{children:s(b?"copied":"copyAddress")})]}),e.jsxs("a",{href:`https://solscan.io/account/${t==null?void 0:t.toBase58()}?cluster=devnet`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-gray-800 rounded-lg hover:bg-gray-700 transition-colors text-sm",children:[e.jsx(q,{className:"w-4 h-4"}),e.jsx("span",{children:s("viewOnExplorer")})]})]}),e.jsxs("div",{className:"border-t border-border pt-6 space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:s("wallet.balances")}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(J,{className:"w-5 h-5 text-yellow-400"}),e.jsxs("span",{className:"text-muted-foreground",children:["SOL ",s("wallet.balance")]})]}),e.jsx(C,{price:B,currency:"SOL",size:"md"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{className:"w-5 h-5 text-primary"}),e.jsxs("span",{className:"text-muted-foreground",children:["CFISH ",s("wallet.balance")]})]}),e.jsx(C,{price:M,currency:"CFISH",size:"md"})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:()=>x(!0),className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-primary text-black rounded-lg hover:bg-primary/80 transition-colors",children:[e.jsx(Y,{className:"w-4 h-4"}),e.jsx("span",{children:s("send")})]}),e.jsxs("button",{onClick:$,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[e.jsx(Q,{className:"w-4 h-4"}),e.jsx("span",{children:s("disconnect")})]})]})]}),e.jsxs("div",{className:"lg:col-span-2 bg-card border border-border rounded-lg p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-foreground mb-4",children:[s("wallet.myNFTs")," (",f.length,")"]}),f.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:f.map(a=>e.jsx(_,{nft:a},a.id))}):e.jsx("div",{className:"text-center text-muted-foreground py-8",children:e.jsx("p",{children:s("wallet.noNFTsInWallet")})})]})]})]}),e.jsx(V,{isOpen:F,onClose:()=>x(!1),title:s("send"),children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:s("recipientAddress")}),e.jsx("input",{type:"text",value:o,onChange:a=>v(a.target.value),placeholder:"Solana Address",className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-primary"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:s("amount")}),e.jsx("input",{type:"number",value:c,onChange:a=>N(a.target.value),placeholder:"0.00",min:"0",step:"0.000001",className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-primary"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:s("currency")}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",value:"sol",checked:m==="sol",onChange:a=>S(a.target.value),className:"mr-2"}),"SOL"]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",value:"cfish",checked:m==="cfish",onChange:a=>S(a.target.value),className:"mr-2"}),"CFISH"]})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 text-gray-400 hover:text-white",children:s("cancel")}),e.jsx("button",{onClick:W,disabled:u,className:"px-4 py-2 bg-primary text-black rounded-lg hover:bg-primary/80 disabled:opacity-50",children:u?e.jsx(k,{size:"sm"}):s("send")})]})]})})]}):e.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:s("wallet.connectYourWallet")}),e.jsx("p",{className:"text-gray-400 mb-6",children:s("wallet.connectToViewAssets")}),e.jsx(O,{className:"!bg-gradient-primary !text-black !border-none !rounded-full !font-semibold !px-6 !py-3 !text-lg hover:!shadow-lg hover:!shadow-primary/25 !transition-all !duration-300 hover:!scale-105"})]})})};export{oe as default};
