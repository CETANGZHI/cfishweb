import{c as $,a as O,b as B,u as G,d as R,e as z,r as x,j as e,f as q,U as v,G as I,T as J,M as V,g as W}from"./index-C8wrHQVv.js";import{U as Q}from"./UserAvatar-CPB5Wdsn.js";import{N as X}from"./NFTCard-BNEZSIRD.js";import{M as Y}from"./Modal-B5K59-TF.js";import{S as w}from"./shield-Dja8UPXs.js";import{H as Z}from"./heart-DstOrYv-.js";import{S as K}from"./square-pen-B6xZ6F1h.js";import{S as ee}from"./share-2-DnG_2hGi.js";import{L as k}from"./list-CvuOwzMS.js";import{T as se}from"./tag-ClVFmTNa.js";/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],re=$("award",te);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],C=$("circle-plus",ae),fe=()=>{const{address:b}=O(),S=B(),{t}=G(),{isConnected:P,publicKey:o}=R(),{addNotification:h}=z(),[a,j]=x.useState(null),[T,f]=x.useState(!0),[i,p]=x.useState("created"),[u,N]=x.useState("grid"),[A,y]=x.useState(!1),[n,m]=x.useState({username:"",bio:"",website:"",twitter:"",discord:"",avatar:null}),[F,M]=x.useState([]);x.useEffect(()=>{const r=async()=>{f(!0);try{const l=b||(o==null?void 0:o.toBase58());if(!l){f(!1);return}const d=await fetch(`https://api.example.com/profile/${l}`);if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);const c=await d.json();j(c),m({username:c.username,bio:c.bio,website:c.website,twitter:c.twitter,discord:c.discord,avatar:c.avatar})}catch(l){console.error("Failed to fetch profile:",l),h({type:"error",title:t("error"),message:t("Failed to load profile details")})}},s=async()=>{try{const l=b||(o==null?void 0:o.toBase58());if(!l)return;const d=await fetch(`https://api.example.com/profile/${l}/achievements`);if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);const c=await d.json();M(c)}catch(l){console.error("Failed to fetch achievements:",l),h({type:"error",title:t("error"),message:t("Failed to load achievements")})}finally{f(!1)}};r(),s()},[b,o,h,t]);const U=()=>{y(!0)},E=async()=>{f(!0);try{const r=await fetch("https://api.example.com/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:a.address,...n})});if(!r.ok){const l=await r.json();throw new Error(l.message||`HTTP error! status: ${r.status}`)}const s=await r.json();j(s),h({type:"success",title:t("success"),message:t("Profile updated successfully!")}),y(!1)}catch{h({type:"error",title:t("error"),message:t("Failed to update profile. Please try again.")})}finally{f(!1)}},_=r=>{const s=r.target.files[0];if(s){const l=new FileReader;l.onload=d=>{m(c=>({...c,avatar:d.target.result}))},l.readAsDataURL(s)}},g=r=>!r||r.length===0?e.jsx("p",{className:"text-gray-400 text-center py-8",children:t("noNFTsFound")}):e.jsx("div",{className:`grid gap-4 ${u==="grid"?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3":"grid-cols-1"}`,children:r.map(s=>e.jsx(X,{nft:s,viewMode:u},s.id))}),D=r=>!r||r.length===0?e.jsx("p",{className:"text-gray-400 text-center py-8",children:t("noActivityFound")}):e.jsx("div",{className:"space-y-4",children:r.map((s,l)=>e.jsxs("div",{className:"p-4 bg-gray-900 rounded-lg flex items-center space-x-4",children:[e.jsxs("div",{className:"flex-shrink-0 w-12 h-12 bg-gray-800 rounded-full flex items-center justify-center",children:[s.type==="sale"&&e.jsx(se,{className:"w-6 h-6 text-green-400"}),s.type==="mint"&&e.jsx(C,{className:"w-6 h-6 text-blue-400"}),s.type==="list"&&e.jsx(k,{className:"w-6 h-6 text-yellow-400"})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-white",children:[s.type==="sale"&&`${t("sold")} ${s.nftName} ${t("for")} ${s.price} ${s.currency.toUpperCase()}`,s.type==="mint"&&`${t("minted")} ${s.nftName}`,s.type==="list"&&`${t("listed")} ${s.nftName} ${t("for")} ${s.price} ${s.currency.toUpperCase()}`]}),e.jsx("p",{className:"text-sm text-gray-400",children:s.date})]})]},l))}),H=r=>!r||r.length===0?e.jsx("p",{className:"text-gray-400 text-center py-8",children:t("noAchievementsFound")}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:r.map(s=>e.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 text-center flex flex-col items-center justify-center",children:[e.jsx(re,{className:"w-12 h-12 text-yellow-400 mb-2"}),e.jsx("h4",{className:"font-semibold text-white text-lg mb-1",children:s.name}),e.jsx("p",{className:"text-sm text-gray-400",children:s.description}),s.dateAchieved&&e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[t("achievedOn"),": ",new Date(s.dateAchieved).toLocaleDateString()]})]},s.id))});if(T)return e.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:e.jsx(q,{size:"lg"})});if(!a)return e.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:t("profileNotFound")}),e.jsx("button",{onClick:()=>S("/"),className:"px-4 py-2 bg-primary text-black rounded-lg hover:bg-primary/80",children:t("backToHome")})]})});const L=P&&(o==null?void 0:o.toBase58())===a.address;return e.jsxs("div",{className:"min-h-screen bg-black text-white",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"relative bg-gray-900 rounded-lg p-6 md:p-8 flex flex-col md:flex-row items-center md:items-start space-y-6 md:space-y-0 md:space-x-8",children:[e.jsxs("div",{className:"flex-shrink-0 relative",children:[e.jsx(Q,{address:a.address,username:a.username,avatar:a.avatar,size:"xl"}),a.verified&&e.jsx(w,{className:"absolute bottom-0 right-0 w-6 h-6 text-blue-400 bg-gray-900 rounded-full p-1"})]}),e.jsxs("div",{className:"flex-1 text-center md:text-left",children:[e.jsxs("div",{className:"flex items-center justify-center md:justify-start space-x-3 mb-2",children:[e.jsx("h1",{className:"text-3xl font-bold",children:a.username}),a.verified&&e.jsx(w,{className:"w-6 h-6 text-blue-400"})]}),e.jsx("p",{className:"text-gray-400 mb-4",children:a.bio}),e.jsxs("div",{className:"flex items-center justify-center md:justify-start space-x-6 text-sm mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Z,{className:"w-4 h-4 text-red-400"}),e.jsxs("span",{children:[a.followers," ",t("followers")]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(v,{className:"w-4 h-4 text-blue-400"}),e.jsxs("span",{children:[a.following," ",t("following")]})]})]}),e.jsxs("div",{className:"flex items-center justify-center md:justify-start space-x-4 mb-4",children:[a.website&&e.jsx("a",{href:a.website,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-primary transition-colors",children:e.jsx(I,{className:"w-5 h-5"})}),a.twitter&&e.jsx("a",{href:`https://twitter.com/${a.twitter}`,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-primary transition-colors",children:e.jsx(J,{className:"w-5 h-5"})}),a.discord&&e.jsx("a",{href:`https://discord.com/users/${a.discord}`,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-primary transition-colors",children:e.jsx(V,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex items-center justify-center md:justify-start space-x-4",children:[L?e.jsxs("button",{onClick:U,className:"flex items-center space-x-2 px-4 py-2 bg-primary text-black rounded-lg hover:bg-primary/80 transition-colors",children:[e.jsx(K,{className:"w-4 h-4"}),e.jsx("span",{children:t("editProfile")})]}):e.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-primary text-black rounded-lg hover:bg-primary/80 transition-colors",children:[e.jsx(C,{className:"w-4 h-4"}),e.jsx("span",{children:t("follow")})]}),e.jsx(ee,{className:"w-5 h-5 text-gray-400 cursor-pointer hover:text-primary"})]})]}),e.jsxs("div",{className:"flex-shrink-0 text-center md:text-right space-y-2",children:[e.jsxs("div",{className:"bg-gray-800 rounded-lg px-4 py-2",children:[e.jsx("p",{className:"text-sm text-gray-400",children:t("level")}),e.jsx("p",{className:"text-xl font-bold text-primary",children:a.level})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg px-4 py-2",children:[e.jsx("p",{className:"text-sm text-gray-400",children:t("reputation")}),e.jsxs("p",{className:"text-xl font-bold text-green-400",children:[a.reputation,"%"]})]})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("div",{className:"border-b border-gray-800",children:e.jsxs("nav",{className:"flex space-x-8",children:[e.jsx("button",{onClick:()=>p("created"),className:`py-4 px-1 border-b-2 font-medium text-sm ${i==="created"?"border-primary text-primary":"border-transparent text-gray-400 hover:text-gray-300"}`,children:t("created")}),e.jsx("button",{onClick:()=>p("collected"),className:`py-4 px-1 border-b-2 font-medium text-sm ${i==="collected"?"border-primary text-primary":"border-transparent text-gray-400 hover:text-gray-300"}`,children:t("collected")}),e.jsx("button",{onClick:()=>p("onSale"),className:`py-4 px-1 border-b-2 font-medium text-sm ${i==="onSale"?"border-primary text-primary":"border-transparent text-gray-400 hover:text-gray-300"}`,children:t("onSale")}),e.jsx("button",{onClick:()=>p("favorites"),className:`py-4 px-1 border-b-2 font-medium text-sm ${i==="favorites"?"border-primary text-primary":"border-transparent text-gray-400 hover:text-gray-300"}`,children:t("favorites")}),e.jsx("button",{onClick:()=>p("activity"),className:`py-4 px-1 border-b-2 font-medium text-sm ${i==="activity"?"border-primary text-primary":"border-transparent text-gray-400 hover:text-gray-300"}`,children:t("activity")}),e.jsx("button",{onClick:()=>p("achievements"),className:`py-4 px-1 border-b-2 font-medium text-sm ${i==="achievements"?"border-primary text-primary":"border-transparent text-gray-400 hover:text-gray-300"}`,children:t("achievements")})]})}),e.jsxs("div",{className:"py-8",children:[e.jsx("div",{className:"flex justify-end mb-4",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>N("grid"),className:`p-2 rounded-lg ${u==="grid"?"bg-gray-700":"bg-gray-800"} text-gray-300 hover:bg-gray-700`,children:e.jsx(W,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>N("list"),className:`p-2 rounded-lg ${u==="list"?"bg-gray-700":"bg-gray-800"} text-gray-300 hover:bg-gray-700`,children:e.jsx(k,{className:"w-5 h-5"})})]})}),i==="created"&&g(a.nftsCreated),i==="collected"&&g(a.nftsCollected),i==="onSale"&&g(a.nftsOnSale),i==="favorites"&&g(a.nftsFavorites),i==="activity"&&D(a.activity),i==="achievements"&&H(F)]})]})]}),e.jsx(Y,{isOpen:A,onClose:()=>y(!1),title:t("editProfile"),children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-700 flex items-center justify-center overflow-hidden",children:n.avatar?e.jsx("img",{src:n.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):e.jsx(v,{className:"w-8 h-8 text-gray-400"})}),e.jsxs("label",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-primary rounded-full flex items-center justify-center cursor-pointer hover:bg-primary/80",children:[e.jsx(Upload,{className:"w-3 h-3 text-black"}),e.jsx("input",{type:"file",accept:"image/*",onChange:_,className:"hidden"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:n.username}),e.jsxs("p",{className:"text-gray-400",children:[a.address.slice(0,6),"...",a.address.slice(-4)]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:t("username")}),e.jsx("input",{type:"text",value:n.username,onChange:r=>m(s=>({...s,username:r.target.value})),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-primary"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:t("bio")}),e.jsx("textarea",{value:n.bio,onChange:r=>m(s=>({...s,bio:r.target.value})),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-primary",rows:"3"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:t("website")}),e.jsx("input",{type:"text",value:n.website,onChange:r=>m(s=>({...s,website:r.target.value})),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-primary"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Twitter"}),e.jsx("input",{type:"text",value:n.twitter,onChange:r=>m(s=>({...s,twitter:r.target.value})),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-primary"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"MessageCircle"}),e.jsx("input",{type:"text",value:n.discord,onChange:r=>m(s=>({...s,discord:r.target.value})),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-primary"})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 text-gray-400 hover:text-white",children:t("cancel")}),e.jsx("button",{onClick:E,className:"px-4 py-2 bg-primary text-black rounded-lg hover:bg-primary/80",children:t("saveChanges")})]})]})})]})};export{fe as default};
